{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst KEY = '42718144-5d5fd5e0a4a425e2316f701b3';\nconst BASE_URI = 'https://pixabay.com/api/';\nexport function getImages(searchQuery) {\n    const params = new URLSearchParams({\n        key: KEY,\n        q: searchQuery,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    });\n    return fetch(`${BASE_URI}?${params}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(\"Search failed\");\n            }\n            return response.json()\n        })\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n            }\n            return data;\n        })\n        .catch(error => console.error('Error fetching data:', error));\n    \n}\n","export function render(images) {\n    return images.hits\n        .map(image => `<div class=\"gallery-item\">\n                <a class=\"item-link\" href=\"${image.largeImageURL}\"> \n                    <img\n                        class=\"item-image\"\n                        src=\"${image.webformatURL}\"\n                        alt=\"${image.tags}\"\n                        /></a>\n                    <div class=\"item-image-info\">\n                        <p class=\"info-title\">Likes <span class=\"info-data\">${image.likes}</span></p>\n                        <p class=\"info-title\">Views <span class=\"info-data\">${image.views}</span></p>\n                        <p class=\"info-title\">Comments <span class=\"info-data\">${image.comments}</span></p>\n                        <p class=\"info-title\">Downloads <span class=\"info-data\">${image.downloads}</span></p>\n                    </div>\n               \n            </div>\n            `)\n        .join(\"\");\n    \n}","import { getImages } from './js/pixabay-api.js';\nimport { render } from './js/render-functions.js'\n\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\"#searchForm\");\nconst container = document.querySelector(\".gallery\");\nconst input = document.querySelector('[name=\"searchQuery\"]');\nconst load = document.querySelector('.load');\nlet searchQuery = \"\";\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    load.classList.add('visually-hidden');\n    container.innerHTML = \"\";\n    searchQuery = input.value.trim();\n   \n    getImages(searchQuery)\n        .then(images => {\n        load.classList.remove('visually-hidden');\n            container.insertAdjacentHTML(\"beforeend\", render(images)); \n            const lightbox =\n                new SimpleLightbox('.gallery a', {\n                nav: true,\n                captions: true,\n                captionsData: 'alt',\n                captionDelay: 250,\n                })\n            lightbox.refresh();\n            \n        })\n        .catch (error => {\n        console.log(error);\n        });\n   \n}\n"],"names":["KEY","BASE_URI","getImages","searchQuery","params","response","data","iziToast","error","render","images","image","form","container","input","load","onSubmit","event","SimpleLightbox"],"mappings":"6vBAGA,MAAMA,EAAM,qCACNC,EAAW,2BACV,SAASC,EAAUC,EAAa,CACnC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAC/B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,eAAe,EAEnC,OAAOA,EAAS,KAAM,CAClC,CAAS,EACA,KAAKC,IACEA,EAAK,KAAK,SAAW,GACrBC,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EAEED,EACV,EACA,MAAME,GAAS,QAAQ,MAAM,uBAAwBA,CAAK,CAAC,CAEpE,CC9BO,SAASC,EAAOC,EAAQ,CAC3B,OAAOA,EAAO,KACT,IAAIC,GAAS;AAAA,6CACuBA,EAAM,aAAa;AAAA;AAAA;AAAA,+BAGjCA,EAAM,YAAY;AAAA,+BAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,8EAGqCA,EAAM,KAAK;AAAA,8EACXA,EAAM,KAAK;AAAA,iFACRA,EAAM,QAAQ;AAAA,kFACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,aAIpF,EACJ,KAAK,EAAE,CAEhB,CCXA,MAAMC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAQ,SAAS,cAAc,sBAAsB,EACrDC,EAAO,SAAS,cAAc,OAAO,EAC3C,IAAIZ,EAAc,GAClBS,EAAK,iBAAiB,SAAUI,CAAQ,EAExC,SAASA,EAASC,EAAO,CACrBA,EAAM,eAAc,EACpBF,EAAK,UAAU,IAAI,iBAAiB,EACpCF,EAAU,UAAY,GACtBV,EAAcW,EAAM,MAAM,OAE1BZ,EAAUC,CAAW,EAChB,KAAKO,GAAU,CAChBK,EAAK,UAAU,OAAO,iBAAiB,EACnCF,EAAU,mBAAmB,YAAaJ,EAAOC,CAAM,CAAC,EAEpD,IAAIQ,EAAe,aAAc,CACjC,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAC9B,CAAiB,EACI,QAAO,CAE5B,CAAS,EACA,MAAOV,GAAS,CACjB,QAAQ,IAAIA,CAAK,CACzB,CAAS,CAET"}